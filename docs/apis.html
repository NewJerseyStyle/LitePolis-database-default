

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API references &mdash; LitePolis database default  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="LitePolis database default" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            LitePolis database default
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Reference:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API references</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#actor-module">Actor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-litepolis_database_default.Comments">Comments module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.Comments.Comment"><code class="docutils literal notranslate"><span class="pre">Comment</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.conversation"><code class="docutils literal notranslate"><span class="pre">Comment.conversation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.conversation_id"><code class="docutils literal notranslate"><span class="pre">Comment.conversation_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.created"><code class="docutils literal notranslate"><span class="pre">Comment.created</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.id"><code class="docutils literal notranslate"><span class="pre">Comment.id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.model_config"><code class="docutils literal notranslate"><span class="pre">Comment.model_config</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.moderation_status"><code class="docutils literal notranslate"><span class="pre">Comment.moderation_status</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.modified"><code class="docutils literal notranslate"><span class="pre">Comment.modified</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.parent_comment"><code class="docutils literal notranslate"><span class="pre">Comment.parent_comment</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.parent_comment_id"><code class="docutils literal notranslate"><span class="pre">Comment.parent_comment_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.replies"><code class="docutils literal notranslate"><span class="pre">Comment.replies</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.text_field"><code class="docutils literal notranslate"><span class="pre">Comment.text_field</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.user"><code class="docutils literal notranslate"><span class="pre">Comment.user</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.user_id"><code class="docutils literal notranslate"><span class="pre">Comment.user_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.Comment.votes"><code class="docutils literal notranslate"><span class="pre">Comment.votes</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.Comments.CommentManager"><code class="docutils literal notranslate"><span class="pre">CommentManager</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.CommentManager.count_comments_in_conversation"><code class="docutils literal notranslate"><span class="pre">CommentManager.count_comments_in_conversation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.CommentManager.create_comment"><code class="docutils literal notranslate"><span class="pre">CommentManager.create_comment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.CommentManager.delete_comment"><code class="docutils literal notranslate"><span class="pre">CommentManager.delete_comment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.CommentManager.get_comment_with_replies"><code class="docutils literal notranslate"><span class="pre">CommentManager.get_comment_with_replies()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.CommentManager.list_comments_by_conversation_id"><code class="docutils literal notranslate"><span class="pre">CommentManager.list_comments_by_conversation_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.CommentManager.list_comments_by_user_id"><code class="docutils literal notranslate"><span class="pre">CommentManager.list_comments_by_user_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.CommentManager.list_comments_created_in_date_range"><code class="docutils literal notranslate"><span class="pre">CommentManager.list_comments_created_in_date_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.CommentManager.read_comment"><code class="docutils literal notranslate"><span class="pre">CommentManager.read_comment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.CommentManager.search_comments"><code class="docutils literal notranslate"><span class="pre">CommentManager.search_comments()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Comments.CommentManager.update_comment"><code class="docutils literal notranslate"><span class="pre">CommentManager.update_comment()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-litepolis_database_default.Conversations">Conversations module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation"><code class="docutils literal notranslate"><span class="pre">Conversation</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation.comments"><code class="docutils literal notranslate"><span class="pre">Conversation.comments</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation.created"><code class="docutils literal notranslate"><span class="pre">Conversation.created</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation.description"><code class="docutils literal notranslate"><span class="pre">Conversation.description</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation.id"><code class="docutils literal notranslate"><span class="pre">Conversation.id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation.is_archived"><code class="docutils literal notranslate"><span class="pre">Conversation.is_archived</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation.model_config"><code class="docutils literal notranslate"><span class="pre">Conversation.model_config</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation.modified"><code class="docutils literal notranslate"><span class="pre">Conversation.modified</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation.settings"><code class="docutils literal notranslate"><span class="pre">Conversation.settings</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation.title"><code class="docutils literal notranslate"><span class="pre">Conversation.title</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation.user"><code class="docutils literal notranslate"><span class="pre">Conversation.user</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation.user_id"><code class="docutils literal notranslate"><span class="pre">Conversation.user_id</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.Conversations.ConversationManager"><code class="docutils literal notranslate"><span class="pre">ConversationManager</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.ConversationManager.archive_conversation"><code class="docutils literal notranslate"><span class="pre">ConversationManager.archive_conversation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.ConversationManager.count_conversations"><code class="docutils literal notranslate"><span class="pre">ConversationManager.count_conversations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.ConversationManager.create_conversation"><code class="docutils literal notranslate"><span class="pre">ConversationManager.create_conversation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.ConversationManager.delete_conversation"><code class="docutils literal notranslate"><span class="pre">ConversationManager.delete_conversation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.ConversationManager.list_conversations"><code class="docutils literal notranslate"><span class="pre">ConversationManager.list_conversations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.ConversationManager.list_conversations_by_archived_status"><code class="docutils literal notranslate"><span class="pre">ConversationManager.list_conversations_by_archived_status()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.ConversationManager.list_conversations_created_in_date_range"><code class="docutils literal notranslate"><span class="pre">ConversationManager.list_conversations_created_in_date_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.ConversationManager.read_conversation"><code class="docutils literal notranslate"><span class="pre">ConversationManager.read_conversation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.ConversationManager.search_conversations"><code class="docutils literal notranslate"><span class="pre">ConversationManager.search_conversations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Conversations.ConversationManager.update_conversation"><code class="docutils literal notranslate"><span class="pre">ConversationManager.update_conversation()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-litepolis_database_default.Users">Users module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.Users.User"><code class="docutils literal notranslate"><span class="pre">User</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.User.auth_token"><code class="docutils literal notranslate"><span class="pre">User.auth_token</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.User.comments"><code class="docutils literal notranslate"><span class="pre">User.comments</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.User.conversation"><code class="docutils literal notranslate"><span class="pre">User.conversation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.User.created"><code class="docutils literal notranslate"><span class="pre">User.created</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.User.email"><code class="docutils literal notranslate"><span class="pre">User.email</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.User.id"><code class="docutils literal notranslate"><span class="pre">User.id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.User.is_admin"><code class="docutils literal notranslate"><span class="pre">User.is_admin</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.User.model_config"><code class="docutils literal notranslate"><span class="pre">User.model_config</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.User.modified"><code class="docutils literal notranslate"><span class="pre">User.modified</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.User.votes"><code class="docutils literal notranslate"><span class="pre">User.votes</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.Users.UserManager"><code class="docutils literal notranslate"><span class="pre">UserManager</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.UserManager.count_users"><code class="docutils literal notranslate"><span class="pre">UserManager.count_users()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.UserManager.create_user"><code class="docutils literal notranslate"><span class="pre">UserManager.create_user()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.UserManager.delete_user"><code class="docutils literal notranslate"><span class="pre">UserManager.delete_user()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.UserManager.list_users"><code class="docutils literal notranslate"><span class="pre">UserManager.list_users()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.UserManager.list_users_by_admin_status"><code class="docutils literal notranslate"><span class="pre">UserManager.list_users_by_admin_status()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.UserManager.list_users_created_in_date_range"><code class="docutils literal notranslate"><span class="pre">UserManager.list_users_created_in_date_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.UserManager.read_user"><code class="docutils literal notranslate"><span class="pre">UserManager.read_user()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.UserManager.read_user_by_email"><code class="docutils literal notranslate"><span class="pre">UserManager.read_user_by_email()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.UserManager.search_users_by_email"><code class="docutils literal notranslate"><span class="pre">UserManager.search_users_by_email()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Users.UserManager.update_user"><code class="docutils literal notranslate"><span class="pre">UserManager.update_user()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-litepolis_database_default.Vote">Vote module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.Vote.Vote"><code class="docutils literal notranslate"><span class="pre">Vote</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.Vote.comment"><code class="docutils literal notranslate"><span class="pre">Vote.comment</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.Vote.comment_id"><code class="docutils literal notranslate"><span class="pre">Vote.comment_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.Vote.created"><code class="docutils literal notranslate"><span class="pre">Vote.created</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.Vote.id"><code class="docutils literal notranslate"><span class="pre">Vote.id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.Vote.model_config"><code class="docutils literal notranslate"><span class="pre">Vote.model_config</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.Vote.modified"><code class="docutils literal notranslate"><span class="pre">Vote.modified</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.Vote.user"><code class="docutils literal notranslate"><span class="pre">Vote.user</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.Vote.user_id"><code class="docutils literal notranslate"><span class="pre">Vote.user_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.Vote.value"><code class="docutils literal notranslate"><span class="pre">Vote.value</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.Vote.VoteManager"><code class="docutils literal notranslate"><span class="pre">VoteManager</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.VoteManager.count_votes_for_comment"><code class="docutils literal notranslate"><span class="pre">VoteManager.count_votes_for_comment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.VoteManager.create_vote"><code class="docutils literal notranslate"><span class="pre">VoteManager.create_vote()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.VoteManager.delete_vote"><code class="docutils literal notranslate"><span class="pre">VoteManager.delete_vote()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.VoteManager.get_vote_by_user_comment"><code class="docutils literal notranslate"><span class="pre">VoteManager.get_vote_by_user_comment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.VoteManager.get_vote_value_distribution_for_comment"><code class="docutils literal notranslate"><span class="pre">VoteManager.get_vote_value_distribution_for_comment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.VoteManager.list_votes_by_comment_id"><code class="docutils literal notranslate"><span class="pre">VoteManager.list_votes_by_comment_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.VoteManager.list_votes_by_user_id"><code class="docutils literal notranslate"><span class="pre">VoteManager.list_votes_by_user_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.VoteManager.list_votes_created_in_date_range"><code class="docutils literal notranslate"><span class="pre">VoteManager.list_votes_created_in_date_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.VoteManager.read_vote"><code class="docutils literal notranslate"><span class="pre">VoteManager.read_vote()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#litepolis_database_default.Vote.VoteManager.update_vote"><code class="docutils literal notranslate"><span class="pre">VoteManager.update_vote()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-litepolis_database_default.utils">utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.utils.connect_db"><code class="docutils literal notranslate"><span class="pre">connect_db()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.utils.get_session"><code class="docutils literal notranslate"><span class="pre">get_session()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.utils.is_starrocks_engine"><code class="docutils literal notranslate"><span class="pre">is_starrocks_engine()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.utils.wait_for_alter_completion"><code class="docutils literal notranslate"><span class="pre">wait_for_alter_completion()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-litepolis_database_default.utils_StarRocks">utils_StarRocks module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.utils_StarRocks.create_db_and_tables"><code class="docutils literal notranslate"><span class="pre">create_db_and_tables()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.utils_StarRocks.generate_custom_ddl_for_table"><code class="docutils literal notranslate"><span class="pre">generate_custom_ddl_for_table()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.utils_StarRocks.get_hints_for_table"><code class="docutils literal notranslate"><span class="pre">get_hints_for_table()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.utils_StarRocks.populate_registry"><code class="docutils literal notranslate"><span class="pre">populate_registry()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#litepolis_database_default.utils_StarRocks.register_table"><code class="docutils literal notranslate"><span class="pre">register_table()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-litepolis_database_default">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LitePolis database default</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">API references</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/apis.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-references">
<h1>API references<a class="headerlink" href="#api-references" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="actor-module">
<h2>Actor module<a class="headerlink" href="#actor-module" title="Link to this heading"></a></h2>
<p>DatabaseActor class for LitePolis.</p>
<p>This class serves as the central point of interaction between the LitePolis system
and the database module. It aggregates operations from various manager classes,
such as UserManager, ConversationManager, CommentManager, VoteManager, and ReportManager,
providing a unified interface for database interactions.</p>
</section>
<section id="module-litepolis_database_default.Comments">
<span id="comments-module"></span><h2>Comments module<a class="headerlink" href="#module-litepolis_database_default.Comments" title="Link to this heading"></a></h2>
<p>This module defines the database schema for comments, including the <cite>Comment</cite> model
and the <cite>CommentManager</cite> class for managing comment data.</p>
<p>The <cite>Comment</cite> model represents the <cite>comments</cite> table and includes fields for
the comment’s content (<cite>text_field</cite>), timestamps (<cite>created</cite>, <cite>modified</cite>),
moderation status (<cite>moderation_status</cite>), and foreign keys linking to the user (<cite>user_id</cite>),
conversation (<cite>conversation_id</cite>), and parent comment (<cite>parent_comment_id</cite>).
It also defines relationships to related <cite>User</cite>, <cite>Conversation</cite>, <cite>Vote</cite>, and other
<cite>Comment</cite> instances (for replies).</p>
<p>The <cite>CommentManager</cite> class provides static methods for common database operations
on comments, such as creating, reading, updating, deleting, listing by various
criteria (conversation, user, date range), searching, and counting.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Table Schemas</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Table Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>users</p></td>
<td><p>Stores user information (id, email, auth_token, etc.).</p></td>
</tr>
<tr class="row-odd"><td><p>conversations</p></td>
<td><p>Stores conversation information (id, title, etc.).</p></td>
</tr>
<tr class="row-even"><td><p>comments</p></td>
<td><p>Stores comment information (id, text_field, user_id, conversation_id, parent_comment_id, created, modified, moderation_status).</p></td>
</tr>
<tr class="row-odd"><td><p>votes</p></td>
<td><p>Stores vote information (id, user_id, comment_id, value).</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Comments Table Details</span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Column Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id (int)</p></td>
<td><p>Primary key for the comment.</p></td>
</tr>
<tr class="row-odd"><td><p>text_field (str)</p></td>
<td><p>The content of the comment.</p></td>
</tr>
<tr class="row-even"><td><p>user_id (int, optional)</p></td>
<td><p>Foreign key referencing the user who created the comment.</p></td>
</tr>
<tr class="row-odd"><td><p>conversation_id (int, optional)</p></td>
<td><p>Foreign key referencing the conversation the comment belongs to.</p></td>
</tr>
<tr class="row-even"><td><p>parent_comment_id (int, optional)</p></td>
<td><p>Foreign key referencing the parent comment (for replies).</p></td>
</tr>
<tr class="row-odd"><td><p>created (datetime)</p></td>
<td><p>Timestamp of when the comment was created.</p></td>
</tr>
<tr class="row-even"><td><p>modified (datetime)</p></td>
<td><p>Timestamp of when the comment was last modified.</p></td>
</tr>
<tr class="row-odd"><td><p>moderation_status (int)</p></td>
<td><p>Status indicating the moderation state of the comment (e.g., 0: default, 1: pending, 2: approved, 3: rejected).</p></td>
</tr>
<tr class="row-even"><td><p>user (Relationship)</p></td>
<td><p>Relationship to the User who created the comment.</p></td>
</tr>
<tr class="row-odd"><td><p>conversation (Relationship)</p></td>
<td><p>Relationship to the Conversation the comment belongs to.</p></td>
</tr>
<tr class="row-even"><td><p>votes (Relationship)</p></td>
<td><p>Relationship to the Votes associated with this comment.</p></td>
</tr>
<tr class="row-odd"><td><p>replies (Relationship)</p></td>
<td><p>Relationship to other Comments that are replies to this comment.</p></td>
</tr>
<tr class="row-even"><td><p>parent_comment (Relationship)</p></td>
<td><p>Relationship to the parent Comment if this is a reply.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">Classes</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Class Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Comment</p></td>
<td><p>SQLModel class representing the <cite>comments</cite> table.</p></td>
</tr>
<tr class="row-odd"><td><p>CommentManager</p></td>
<td><p>Provides static methods for managing comments (create, read, update, delete, list, search, count).</p></td>
</tr>
</tbody>
</table>
<p>To use the methods in this module, import <cite>DatabaseActor</cite> from
<cite>litepolis_database_default</cite>. For example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">comment</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">create_comment</span><span class="p">({</span>
    <span class="s2">&quot;text_field&quot;</span><span class="p">:</span> <span class="s2">&quot;This is a test comment.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;conversation_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;moderation_status&quot;</span><span class="p">:</span> <span class="mi">0</span> <span class="c1"># Include new field if needed, or rely on default</span>
<span class="p">})</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">litepolis_database_default.Comments.</span></span><span class="sig-name descname"><span class="pre">Comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">created:</span> <span class="pre">~datetime.datetime</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modified:</span> <span class="pre">~datetime.datetime</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_field:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_id:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversation_id:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_comment_id:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moderation_status:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#litepolis_database_default.Comments.Comment" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">SQLModel</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.conversation">
<span class="sig-name descname"><span class="pre">conversation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation" title="litepolis_database_default.Conversations.Conversation"><span class="pre">Conversation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.conversation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.conversation_id">
<span class="sig-name descname"><span class="pre">conversation_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.conversation_id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.created">
<span class="sig-name descname"><span class="pre">created</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">datetime</span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.created" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'from_attributes':</span> <span class="pre">True,</span> <span class="pre">'read_from_attributes':</span> <span class="pre">True,</span> <span class="pre">'read_with_orm_mode':</span> <span class="pre">True,</span> <span class="pre">'registry':</span> <span class="pre">PydanticUndefined,</span> <span class="pre">'table':</span> <span class="pre">True}</span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.model_config" title="Link to this definition"></a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.moderation_status">
<span class="sig-name descname"><span class="pre">moderation_status</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.moderation_status" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.modified">
<span class="sig-name descname"><span class="pre">modified</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">datetime</span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.modified" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.parent_comment">
<span class="sig-name descname"><span class="pre">parent_comment</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.parent_comment" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.parent_comment_id">
<span class="sig-name descname"><span class="pre">parent_comment_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.parent_comment_id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.replies">
<span class="sig-name descname"><span class="pre">replies</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.replies" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.text_field">
<span class="sig-name descname"><span class="pre">text_field</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.text_field" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.user">
<span class="sig-name descname"><span class="pre">user</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Users.User" title="litepolis_database_default.Users.User"><span class="pre">User</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.user" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.user_id">
<span class="sig-name descname"><span class="pre">user_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.user_id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.Comment.votes">
<span class="sig-name descname"><span class="pre">votes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Vote.Vote" title="litepolis_database_default.Vote.Vote"><span class="pre">Vote</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Comments.Comment.votes" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.CommentManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">litepolis_database_default.Comments.</span></span><span class="sig-name descname"><span class="pre">CommentManager</span></span><a class="headerlink" href="#litepolis_database_default.Comments.CommentManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.CommentManager.count_comments_in_conversation">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">count_comments_in_conversation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conversation_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#litepolis_database_default.Comments.CommentManager.count_comments_in_conversation" title="Link to this definition"></a></dt>
<dd><p>Counts comments in a conversation.</p>
<dl>
<dt>Args:</dt><dd><p>conversation_id (int): The ID of the conversation to count comments in.</p>
</dd>
<dt>Returns:</dt><dd><p>int: The number of comments in the given conversation. Returns 0 if no comments are found.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">count</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">count_comments_in_conversation</span><span class="p">(</span><span class="n">conversation_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.CommentManager.create_comment">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a></span></span><a class="headerlink" href="#litepolis_database_default.Comments.CommentManager.create_comment" title="Link to this definition"></a></dt>
<dd><p>Creates a new Comment record.</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>data (Dict[str, Any]): A dictionary containing the data for the new Comment.</dt><dd><p>Must include ‘text_field’, ‘user_id’, ‘conversation_id’.
Can optionally include ‘parent_comment_id’ and ‘moderation_status’.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>Comment: The newly created Comment instance.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">comment</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">create_comment</span><span class="p">({</span>
    <span class="s2">&quot;text_field&quot;</span><span class="p">:</span> <span class="s2">&quot;This is a comment.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;conversation_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;moderation_status&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.CommentManager.delete_comment">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#litepolis_database_default.Comments.CommentManager.delete_comment" title="Link to this definition"></a></dt>
<dd><p>Deletes a Comment record by ID.</p>
<dl>
<dt>Args:</dt><dd><p>comment_id (int): The ID of the Comment to delete.</p>
</dd>
<dt>Returns:</dt><dd><p>bool: True if the Comment was successfully deleted, False otherwise.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">delete_comment</span><span class="p">(</span><span class="n">comment_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.CommentManager.get_comment_with_replies">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_comment_with_replies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Comments.CommentManager.get_comment_with_replies" title="Link to this definition"></a></dt>
<dd><p>Reads a Comment record by ID and loads its direct replies.</p>
<dl>
<dt>Args:</dt><dd><p>comment_id (int): The ID of the Comment to read.</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>Optional[Comment]: The Comment instance if found, otherwise None.</dt><dd><p>Direct replies are loaded automatically via the ‘replies’ relationship.</p>
</dd>
</dl>
</dd>
<dt>Example:</dt><dd><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">comment</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">get_comment_with_replies</span><span class="p">(</span><span class="n">comment_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">if</span> <span class="n">comment</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Comment: </span><span class="si">{</span><span class="n">comment</span><span class="o">.</span><span class="n">text_field</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">reply</span> <span class="ow">in</span> <span class="n">comment</span><span class="o">.</span><span class="n">replies</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- Reply: </span><span class="si">{</span><span class="n">reply</span><span class="o">.</span><span class="n">text_field</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.CommentManager.list_comments_by_conversation_id">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_comments_by_conversation_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conversation_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'created'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'asc'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Comments.CommentManager.list_comments_by_conversation_id" title="Link to this definition"></a></dt>
<dd><p>Lists Comment records for a conversation with pagination and sorting.</p>
<dl>
<dt>Args:</dt><dd><p>conversation_id (int): The ID of the conversation to list comments for.
page (int): The page number to retrieve (default: 1).
page_size (int): The number of comments per page (default: 10).
order_by (str): The field to order the comments by (default: “created”). Must be a valid column name of the Comment model.
order_direction (str): The direction to order the comments in (“asc” or “desc”, default: “asc”).</p>
</dd>
<dt>Returns:</dt><dd><p>List[Comment]: A list of Comment instances for the given conversation, page, and sorting.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">comments</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_comments_by_conversation_id</span><span class="p">(</span><span class="n">conversation_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order_by</span><span class="o">=</span><span class="s2">&quot;created&quot;</span><span class="p">,</span> <span class="n">order_direction</span><span class="o">=</span><span class="s2">&quot;asc&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.CommentManager.list_comments_by_user_id">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_comments_by_user_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Comments.CommentManager.list_comments_by_user_id" title="Link to this definition"></a></dt>
<dd><p>List comments by user id with pagination.</p>
<dl>
<dt>Args:</dt><dd><p>user_id (int): The ID of the user to list comments for.
page (int): The page number to retrieve (default: 1).
page_size (int): The number of comments per page (default: 10).</p>
</dd>
<dt>Returns:</dt><dd><p>List[Comment]: A list of Comment instances for the given user and page.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">comments</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_comments_by_user_id</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.CommentManager.list_comments_created_in_date_range">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_comments_created_in_date_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Comments.CommentManager.list_comments_created_in_date_range" title="Link to this definition"></a></dt>
<dd><p>List comments created in a date range.</p>
<dl>
<dt>Args:</dt><dd><p>start_date (datetime): The start date (inclusive) of the range.
end_date (datetime): The end date (inclusive) of the range.</p>
</dd>
<dt>Returns:</dt><dd><p>List[Comment]: A list of Comment instances created within the given date range.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">UTC</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">UTC</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">UTC</span><span class="p">)</span>
<span class="n">comments</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_comments_created_in_date_range</span><span class="p">(</span><span class="n">start_date</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.CommentManager.read_comment">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Comments.CommentManager.read_comment" title="Link to this definition"></a></dt>
<dd><p>Reads a Comment record by ID.</p>
<dl>
<dt>Args:</dt><dd><p>comment_id (int): The ID of the Comment to read.</p>
</dd>
<dt>Returns:</dt><dd><p>Optional[Comment]: The Comment instance if found, otherwise None.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">comment</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">read_comment</span><span class="p">(</span><span class="n">comment_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.CommentManager.search_comments">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">search_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Comments.CommentManager.search_comments" title="Link to this definition"></a></dt>
<dd><p>Search comments by text content using a LIKE query.</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>query (str): The search query string. The search will look for</dt><dd><p>comments where the <cite>text_field</cite> contains this string.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>List[Comment]: A list of Comment instances matching the search query.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">comments</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">search_comments</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;search term&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Comments.CommentManager.update_comment">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">update_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Comments.CommentManager.update_comment" title="Link to this definition"></a></dt>
<dd><p>Updates a Comment record by ID.</p>
<dl>
<dt>Args:</dt><dd><p>comment_id (int): The ID of the Comment to update.
data (Dict[str, Any]): A dictionary containing the data to update.</p>
<blockquote>
<div><p>Keys should match Comment model field names (e.g., ‘text_field’, ‘moderation_status’).</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>Optional[Comment]: The updated Comment instance if found, otherwise None.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">updated_comment</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">update_comment</span><span class="p">(</span><span class="n">comment_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;text_field&quot;</span><span class="p">:</span> <span class="s2">&quot;Updated comment text.&quot;</span><span class="p">,</span> <span class="s2">&quot;moderation_status&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-litepolis_database_default.Conversations">
<span id="conversations-module"></span><h2>Conversations module<a class="headerlink" href="#module-litepolis_database_default.Conversations" title="Link to this heading"></a></h2>
<p>This module defines the Conversation model and ConversationManager class for interacting with the ‘conversations’ table in the database.</p>
<p>The ‘conversations’ table stores information about conversations, including their title, description, archive status,
arbitrary settings in a JSON format, and the user who created them.
It also includes timestamps for creation and modification.</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">Table Schema</span><a class="headerlink" href="#id4" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>INTEGER</p></td>
<td><p>Unique identifier for the conversation.</p></td>
</tr>
<tr class="row-odd"><td><p>user_id</p></td>
<td><p>INTEGER</p></td>
<td><p>Foreign key referencing the user who created the conversation.</p></td>
</tr>
<tr class="row-even"><td><p>title</p></td>
<td><p>VARCHAR</p></td>
<td><p>Title of the conversation.</p></td>
</tr>
<tr class="row-odd"><td><p>description</p></td>
<td><p>VARCHAR</p></td>
<td><p>Description of the conversation.</p></td>
</tr>
<tr class="row-even"><td><p>is_archived</p></td>
<td><p>BOOLEAN</p></td>
<td><p>Indicates whether the conversation is archived.</p></td>
</tr>
<tr class="row-odd"><td><p>created</p></td>
<td><p>DATETIME</p></td>
<td><p>Timestamp indicating when the conversation was created.</p></td>
</tr>
<tr class="row-even"><td><p>modified</p></td>
<td><p>DATETIME</p></td>
<td><p>Timestamp indicating when the conversation was last modified.</p></td>
</tr>
<tr class="row-odd"><td><p>settings</p></td>
<td><p>JSON</p></td>
<td><p>Arbitrary key-value settings for the conversation.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id5">
<caption><span class="caption-text">Relationships</span><a class="headerlink" href="#id5" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p>comments</p></td>
<td><p>One-to-many relationship with the Comment model.</p></td>
</tr>
<tr class="row-even"><td><p>user</p></td>
<td><p>Many-to-one relationship with the User model.</p></td>
</tr>
</tbody>
</table>
<p>The ConversationManager class provides static methods for performing CRUD (Create, Read, Update, Delete) operations
on the ‘conversations’ table, as well as methods for listing, searching, counting, and archiving conversations.</p>
<p>To use the methods in this module, import DatabaseActor.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">conversation</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">create_conversation</span><span class="p">({</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;New Conversation&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;A new conversation about a topic.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;visibility&quot;</span><span class="p">:</span> <span class="s2">&quot;public&quot;</span><span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">litepolis_database_default.Conversations.</span></span><span class="sig-name descname"><span class="pre">Conversation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_id:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_archived:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">created:</span> <span class="pre">~datetime.datetime</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modified:</span> <span class="pre">~datetime.datetime</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings:</span> <span class="pre">~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~typing.Any]</span> <span class="pre">=</span> <span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">SQLModel</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation.comments">
<span class="sig-name descname"><span class="pre">comments</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation.comments" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation.created">
<span class="sig-name descname"><span class="pre">created</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">datetime</span></em><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation.created" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation.description" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation.id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation.is_archived">
<span class="sig-name descname"><span class="pre">is_archived</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation.is_archived" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'from_attributes':</span> <span class="pre">True,</span> <span class="pre">'read_from_attributes':</span> <span class="pre">True,</span> <span class="pre">'read_with_orm_mode':</span> <span class="pre">True,</span> <span class="pre">'registry':</span> <span class="pre">PydanticUndefined,</span> <span class="pre">'table':</span> <span class="pre">True}</span></em><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation.model_config" title="Link to this definition"></a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation.modified">
<span class="sig-name descname"><span class="pre">modified</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">datetime</span></em><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation.modified" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation.settings">
<span class="sig-name descname"><span class="pre">settings</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation.settings" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation.title">
<span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation.title" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation.user">
<span class="sig-name descname"><span class="pre">user</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Users.User" title="litepolis_database_default.Users.User"><span class="pre">User</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation.user" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.Conversation.user_id">
<span class="sig-name descname"><span class="pre">user_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#litepolis_database_default.Conversations.Conversation.user_id" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.ConversationManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">litepolis_database_default.Conversations.</span></span><span class="sig-name descname"><span class="pre">ConversationManager</span></span><a class="headerlink" href="#litepolis_database_default.Conversations.ConversationManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.ConversationManager.archive_conversation">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">archive_conversation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conversation_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation" title="litepolis_database_default.Conversations.Conversation"><span class="pre">Conversation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Conversations.ConversationManager.archive_conversation" title="Link to this definition"></a></dt>
<dd><p>Archives a conversation.</p>
<p>Sets the ‘is_archived’ field to True for the specified conversation.</p>
<dl>
<dt>Args:</dt><dd><p>conversation_id (int): The ID of the Conversation to archive.</p>
</dd>
<dt>Returns:</dt><dd><p>Optional[Conversation]: The archived Conversation instance if found, otherwise None.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">archived_conversation</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">archive_conversation</span><span class="p">(</span><span class="n">conversation_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.ConversationManager.count_conversations">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">count_conversations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#litepolis_database_default.Conversations.ConversationManager.count_conversations" title="Link to this definition"></a></dt>
<dd><p>Counts all Conversation records.</p>
<dl>
<dt>Returns:</dt><dd><p>int: The total number of Conversation records.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">count</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">count_conversations</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.ConversationManager.create_conversation">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_conversation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation" title="litepolis_database_default.Conversations.Conversation"><span class="pre">Conversation</span></a></span></span><a class="headerlink" href="#litepolis_database_default.Conversations.ConversationManager.create_conversation" title="Link to this definition"></a></dt>
<dd><p>Creates a new Conversation record.</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>data (Dict[str, Any]): A dictionary containing the data for the new Conversation.</dt><dd><p>Expected keys include ‘title’ (required), ‘description’ (optional),
‘is_archived’ (optional, defaults to False), ‘user_id’ (optional),
and ‘settings’ (optional, defaults to {}).</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>Conversation: The newly created Conversation instance.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">conversation</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">create_conversation</span><span class="p">({</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;New Conversation&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;A new conversation about a topic.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;visibility&quot;</span><span class="p">:</span> <span class="s2">&quot;public&quot;</span><span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.ConversationManager.delete_conversation">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete_conversation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conversation_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#litepolis_database_default.Conversations.ConversationManager.delete_conversation" title="Link to this definition"></a></dt>
<dd><p>Deletes a Conversation record by ID.</p>
<dl>
<dt>Args:</dt><dd><p>conversation_id (int): The ID of the Conversation to delete.</p>
</dd>
<dt>Returns:</dt><dd><p>bool: True if the Conversation was successfully deleted, False otherwise.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">delete_conversation</span><span class="p">(</span><span class="n">conversation_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.ConversationManager.list_conversations">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_conversations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'created'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'desc'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation" title="litepolis_database_default.Conversations.Conversation"><span class="pre">Conversation</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Conversations.ConversationManager.list_conversations" title="Link to this definition"></a></dt>
<dd><p>Lists Conversation records with pagination and sorting.</p>
<dl>
<dt>Args:</dt><dd><p>page (int): The page number to retrieve (default: 1).
page_size (int): The number of records per page (default: 10).
order_by (str): The field to order the results by (default: “created”).
order_direction (str): The direction to order the results in (“asc” or “desc”, default: “desc”).</p>
</dd>
<dt>Returns:</dt><dd><p>List[Conversation]: A list of Conversation instances.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">conversations</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_conversations</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order_by</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="n">order_direction</span><span class="o">=</span><span class="s2">&quot;asc&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.ConversationManager.list_conversations_by_archived_status">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_conversations_by_archived_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_archived</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation" title="litepolis_database_default.Conversations.Conversation"><span class="pre">Conversation</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Conversations.ConversationManager.list_conversations_by_archived_status" title="Link to this definition"></a></dt>
<dd><p>List conversations by archive status.</p>
<dl>
<dt>Args:</dt><dd><p>is_archived (bool): The archive status to filter by.</p>
</dd>
<dt>Returns:</dt><dd><p>List[Conversation]: A list of Conversation instances with the specified archive status.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">conversations</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_conversations_by_archived_status</span><span class="p">(</span><span class="n">is_archived</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.ConversationManager.list_conversations_created_in_date_range">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_conversations_created_in_date_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation" title="litepolis_database_default.Conversations.Conversation"><span class="pre">Conversation</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Conversations.ConversationManager.list_conversations_created_in_date_range" title="Link to this definition"></a></dt>
<dd><p>List conversations created in date range.</p>
<dl>
<dt>Args:</dt><dd><p>start_date (datetime): The start date of the range.
end_date (datetime): The end date of the range.</p>
</dd>
<dt>Returns:</dt><dd><p>List[Conversation]: A list of Conversation instances created within the specified date range.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span>
<span class="n">conversations</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_conversations_created_in_date_range</span><span class="p">(</span><span class="n">start_date</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.ConversationManager.read_conversation">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_conversation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conversation_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation" title="litepolis_database_default.Conversations.Conversation"><span class="pre">Conversation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Conversations.ConversationManager.read_conversation" title="Link to this definition"></a></dt>
<dd><p>Reads a Conversation record by ID.</p>
<dl>
<dt>Args:</dt><dd><p>conversation_id (int): The ID of the Conversation to read.</p>
</dd>
<dt>Returns:</dt><dd><p>Optional[Conversation]: The Conversation instance if found, otherwise None.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">conversation</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">read_conversation</span><span class="p">(</span><span class="n">conversation_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.ConversationManager.search_conversations">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">search_conversations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation" title="litepolis_database_default.Conversations.Conversation"><span class="pre">Conversation</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Conversations.ConversationManager.search_conversations" title="Link to this definition"></a></dt>
<dd><p>Search conversations by title or description.</p>
<dl>
<dt>Args:</dt><dd><p>query (str): The search query.</p>
</dd>
<dt>Returns:</dt><dd><p>List[Conversation]: A list of Conversation instances that match the search query.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">conversations</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">search_conversations</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;search term&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Conversations.ConversationManager.update_conversation">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">update_conversation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conversation_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation" title="litepolis_database_default.Conversations.Conversation"><span class="pre">Conversation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Conversations.ConversationManager.update_conversation" title="Link to this definition"></a></dt>
<dd><p>Updates a Conversation record by ID.</p>
<dl>
<dt>Args:</dt><dd><p>conversation_id (int): The ID of the Conversation to update.
data (Dict[str, Any]): A dictionary containing the data to update.</p>
<blockquote>
<div><p>Allowed keys include ‘title’, ‘description’, ‘is_archived’, ‘user_id’, and ‘settings’.</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>Optional[Conversation]: The updated Conversation instance if found, otherwise None.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">updated_conversation</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">update_conversation</span><span class="p">(</span><span class="n">conversation_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Updated Title&quot;</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;visibility&quot;</span><span class="p">:</span> <span class="s2">&quot;private&quot;</span><span class="p">}})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-litepolis_database_default.Users">
<span id="users-module"></span><h2>Users module<a class="headerlink" href="#module-litepolis_database_default.Users" title="Link to this heading"></a></h2>
<p>This module defines the User model and UserManager class for interacting with the ‘users’ table in the database.</p>
<p>The ‘users’ table stores information about users, including their email, authentication token, and admin status.
It also includes timestamps for creation and modification. The table supports both standard SQL databases and StarRocks,
with some specific handling for StarRocks (e.g., unique constraints and primary keys).</p>
<table class="docutils align-default" id="id6">
<caption><span class="caption-text">Table Schema</span><a class="headerlink" href="#id6" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>INTEGER</p></td>
<td><p>Unique identifier for the user.</p></td>
</tr>
<tr class="row-odd"><td><p>email</p></td>
<td><p>VARCHAR</p></td>
<td><p>User’s email address. Must be unique.</p></td>
</tr>
<tr class="row-even"><td><p>auth_token</p></td>
<td><p>VARCHAR</p></td>
<td><p>Authentication token for the user.</p></td>
</tr>
<tr class="row-odd"><td><p>is_admin</p></td>
<td><p>BOOLEAN</p></td>
<td><p>Indicates whether the user is an administrator.</p></td>
</tr>
<tr class="row-even"><td><p>created</p></td>
<td><p>DATETIME</p></td>
<td><p>Timestamp indicating when the user was created.</p></td>
</tr>
<tr class="row-odd"><td><p>modified</p></td>
<td><p>DATETIME</p></td>
<td><p>Timestamp indicating when the user was last modified.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id7">
<caption><span class="caption-text">Relationships</span><a class="headerlink" href="#id7" title="Link to this table"></a></caption>
<tbody>
<tr class="row-odd"><td><p>Comment</p></td>
<td><p>One-to-many.</p></td>
</tr>
<tr class="row-even"><td><p>Vote</p></td>
<td><p>One-to-many.</p></td>
</tr>
<tr class="row-odd"><td><p>Conversation</p></td>
<td><p>One-to-many.</p></td>
</tr>
</tbody>
</table>
<p>The UserManager class provides static methods for interacting with the ‘users’ table, including CRUD operations,
searching, listing with pagination, and counting.</p>
<p>To use the methods in this module, import DatabaseActor.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">user</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">create_user</span><span class="p">({</span>
    <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;test@example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_token&quot;</span><span class="p">:</span> <span class="s2">&quot;auth_token&quot;</span><span class="p">,</span>
<span class="p">})</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="litepolis_database_default.Users.User">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">litepolis_database_default.Users.</span></span><span class="sig-name descname"><span class="pre">User</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_token:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_admin:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">created:</span> <span class="pre">~datetime.datetime</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modified:</span> <span class="pre">~datetime.datetime</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#litepolis_database_default.Users.User" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">SQLModel</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Users.User.auth_token">
<span class="sig-name descname"><span class="pre">auth_token</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#litepolis_database_default.Users.User.auth_token" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Users.User.comments">
<span class="sig-name descname"><span class="pre">comments</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Users.User.comments" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Users.User.conversation">
<span class="sig-name descname"><span class="pre">conversation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Conversations.Conversation" title="litepolis_database_default.Conversations.Conversation"><span class="pre">Conversation</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Users.User.conversation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Users.User.created">
<span class="sig-name descname"><span class="pre">created</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">datetime</span></em><a class="headerlink" href="#litepolis_database_default.Users.User.created" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Users.User.email">
<span class="sig-name descname"><span class="pre">email</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#litepolis_database_default.Users.User.email" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Users.User.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#litepolis_database_default.Users.User.id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Users.User.is_admin">
<span class="sig-name descname"><span class="pre">is_admin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#litepolis_database_default.Users.User.is_admin" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Users.User.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'from_attributes':</span> <span class="pre">True,</span> <span class="pre">'read_from_attributes':</span> <span class="pre">True,</span> <span class="pre">'read_with_orm_mode':</span> <span class="pre">True,</span> <span class="pre">'registry':</span> <span class="pre">PydanticUndefined,</span> <span class="pre">'table':</span> <span class="pre">True}</span></em><a class="headerlink" href="#litepolis_database_default.Users.User.model_config" title="Link to this definition"></a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Users.User.modified">
<span class="sig-name descname"><span class="pre">modified</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">datetime</span></em><a class="headerlink" href="#litepolis_database_default.Users.User.modified" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Users.User.votes">
<span class="sig-name descname"><span class="pre">votes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Vote.Vote" title="litepolis_database_default.Vote.Vote"><span class="pre">Vote</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Users.User.votes" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="litepolis_database_default.Users.UserManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">litepolis_database_default.Users.</span></span><span class="sig-name descname"><span class="pre">UserManager</span></span><a class="headerlink" href="#litepolis_database_default.Users.UserManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Users.UserManager.count_users">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">count_users</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#litepolis_database_default.Users.UserManager.count_users" title="Link to this definition"></a></dt>
<dd><p>Counts the total number of User records in the database.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>The total count of users.</p>
</dd>
</dl>
<p>To use this method, import DatabaseActor.  For example:</p>
<blockquote>
<div><p>from litepolis_database_default import DatabaseActor</p>
<p>count = DatabaseActor.count_users()</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Users.UserManager.create_user">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Users.User" title="litepolis_database_default.Users.User"><span class="pre">User</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Users.UserManager.create_user" title="Link to this definition"></a></dt>
<dd><p>Creates a new User record.</p>
<p>Handles checking for existing email before creation, especially for StarRocks.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>data: A dictionary containing user data (e.g., “email”, “auth_token”).</p>
</dd>
<dt>Returns:</dt><dd><p>The created User object, or None if a user with the same email already exists.</p>
</dd>
</dl>
<p>To use this method, import DatabaseActor.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">user</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">create_user</span><span class="p">({</span>
    <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;test@example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_token&quot;</span><span class="p">:</span> <span class="s2">&quot;auth_token&quot;</span><span class="p">,</span>
<span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Users.UserManager.delete_user">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#litepolis_database_default.Users.UserManager.delete_user" title="Link to this definition"></a></dt>
<dd><p>Deletes a User record by ID.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>user_id: The unique identifier of the user to delete.</p>
</dd>
<dt>Returns:</dt><dd><p>True if the user was found and deleted, False otherwise.</p>
</dd>
</dl>
<p>To use this method, import DatabaseActor.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">delete_user</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Users.UserManager.list_users">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Users.User" title="litepolis_database_default.Users.User"><span class="pre">User</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Users.UserManager.list_users" title="Link to this definition"></a></dt>
<dd><p>Lists User records with pagination.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>page: The page number (1-based). Defaults to 1.
page_size: The number of records per page. Defaults to 10.</p>
</dd>
<dt>Returns:</dt><dd><p>A list of User objects for the specified page.</p>
</dd>
</dl>
<p>To use this method, import DatabaseActor.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">users</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_users</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Users.UserManager.list_users_by_admin_status">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_users_by_admin_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_admin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Users.User" title="litepolis_database_default.Users.User"><span class="pre">User</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Users.UserManager.list_users_by_admin_status" title="Link to this definition"></a></dt>
<dd><p>Lists users based on their admin status.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>is_admin: A boolean indicating whether to list administrators (True) or non-administrators (False).</p>
</dd>
<dt>Returns:</dt><dd><p>A list of User objects matching the specified admin status.</p>
</dd>
</dl>
<p>To use this method, import DatabaseActor.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">users</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_users_by_admin_status</span><span class="p">(</span><span class="n">is_admin</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Users.UserManager.list_users_created_in_date_range">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_users_created_in_date_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Users.User" title="litepolis_database_default.Users.User"><span class="pre">User</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Users.UserManager.list_users_created_in_date_range" title="Link to this definition"></a></dt>
<dd><p>Lists users created within a specified date range (inclusive).</p>
<dl class="simple">
<dt>Args:</dt><dd><p>start_date: The start of the date range.
end_date: The end of the date range.</p>
</dd>
<dt>Returns:</dt><dd><p>A list of User objects created within the specified range.</p>
</dd>
</dl>
<p>To use this method, import DatabaseActor.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">users</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_users_created_in_date_range</span><span class="p">(</span><span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">end_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Users.UserManager.read_user">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Users.User" title="litepolis_database_default.Users.User"><span class="pre">User</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Users.UserManager.read_user" title="Link to this definition"></a></dt>
<dd><p>Reads a User record by ID.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>user_id: The unique identifier of the user.</p>
</dd>
<dt>Returns:</dt><dd><p>The User object if found, otherwise None.</p>
</dd>
</dl>
<p>To use this method, import DatabaseActor.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">user</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">read_user</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Users.UserManager.read_user_by_email">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_user_by_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Users.User" title="litepolis_database_default.Users.User"><span class="pre">User</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Users.UserManager.read_user_by_email" title="Link to this definition"></a></dt>
<dd><p>Reads a User record by email address.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>email: The email address of the user.</p>
</dd>
<dt>Returns:</dt><dd><p>The User object if found, otherwise None.</p>
</dd>
</dl>
<p>To use this method, import DatabaseActor.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">user</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">read_user_by_email</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;test@example.com&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Users.UserManager.search_users_by_email">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">search_users_by_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Users.User" title="litepolis_database_default.Users.User"><span class="pre">User</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Users.UserManager.search_users_by_email" title="Link to this definition"></a></dt>
<dd><p>Searches for users whose email address contains the specified query string.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>query: The string to search for within email addresses.</p>
</dd>
<dt>Returns:</dt><dd><p>A list of User objects matching the search query.</p>
</dd>
</dl>
<p>To use this method, import DatabaseActor.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">users</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">search_users_by_email</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;example.com&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Users.UserManager.update_user">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">update_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Users.User" title="litepolis_database_default.Users.User"><span class="pre">User</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Users.UserManager.update_user" title="Link to this definition"></a></dt>
<dd><p>Updates a User record by ID with the provided data.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>user_id: The unique identifier of the user to update.
data: A dictionary containing the fields and new values to update.</p>
</dd>
<dt>Returns:</dt><dd><p>The updated User object if found and updated, otherwise None.</p>
</dd>
</dl>
<p>To use this method, import DatabaseActor.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">user</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">update_user</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;new_email@example.com&quot;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-litepolis_database_default.Vote">
<span id="vote-module"></span><h2>Vote module<a class="headerlink" href="#module-litepolis_database_default.Vote" title="Link to this heading"></a></h2>
<p>This module defines the database schema for votes, including the <cite>Vote</cite> model
and <cite>VoteManager</cite> class for managing votes.</p>
<p>The database schema includes tables for users, comments, and votes,
with relationships defined between them. The <cite>Vote</cite> table stores information
about individual votes, including the voter, target comment, and vote value.</p>
<table class="docutils align-default" id="id8">
<caption><span class="caption-text">Table Schemas</span><a class="headerlink" href="#id8" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Table Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>users</p></td>
<td><p>Stores user information (id, email, auth_token, etc.).</p></td>
</tr>
<tr class="row-odd"><td><p>comments</p></td>
<td><p>Stores comment information (id, text, user_id, conversation_id, parent_comment_id, created, modified).</p></td>
</tr>
<tr class="row-even"><td><p>votes</p></td>
<td><p>Stores vote information (id, user_id, comment_id, value, created, modified).</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id9">
<caption><span class="caption-text">Votes Table Details</span><a class="headerlink" href="#id9" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Column Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id (int)</p></td>
<td><p>Primary key for the vote.</p></td>
</tr>
<tr class="row-odd"><td><p>user_id (int, optional)</p></td>
<td><p>Foreign key referencing the user who created the vote.</p></td>
</tr>
<tr class="row-even"><td><p>comment_id (int, optional)</p></td>
<td><p>Foreign key referencing the comment being voted on.</p></td>
</tr>
<tr class="row-odd"><td><p>value (int)</p></td>
<td><p>The value of the vote.</p></td>
</tr>
<tr class="row-even"><td><p>created (datetime)</p></td>
<td><p>Timestamp of when the vote was created.</p></td>
</tr>
<tr class="row-odd"><td><p>modified (datetime)</p></td>
<td><p>Timestamp of when the vote was last modified.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id10">
<caption><span class="caption-text">Classes</span><a class="headerlink" href="#id10" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Class Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Vote</p></td>
<td><p>SQLModel class representing the <cite>votes</cite> table.</p></td>
</tr>
<tr class="row-odd"><td><p>VoteManager</p></td>
<td><p>Provides static methods for managing votes.</p></td>
</tr>
</tbody>
</table>
<p>To use the methods in this module, import <cite>DatabaseActor</cite> from
<cite>litepolis_database_default</cite>. For example:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">vote</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">create_vote</span><span class="p">({</span>
    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;comment_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.Vote">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">litepolis_database_default.Vote.</span></span><span class="sig-name descname"><span class="pre">Vote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_id:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment_id:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">created:</span> <span class="pre">~datetime.datetime</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modified:</span> <span class="pre">~datetime.datetime</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#litepolis_database_default.Vote.Vote" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">SQLModel</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.Vote.comment">
<span class="sig-name descname"><span class="pre">comment</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Comments.Comment" title="litepolis_database_default.Comments.Comment"><span class="pre">Comment</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Vote.Vote.comment" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.Vote.comment_id">
<span class="sig-name descname"><span class="pre">comment_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#litepolis_database_default.Vote.Vote.comment_id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.Vote.created">
<span class="sig-name descname"><span class="pre">created</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">datetime</span></em><a class="headerlink" href="#litepolis_database_default.Vote.Vote.created" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.Vote.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#litepolis_database_default.Vote.Vote.id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.Vote.model_config">
<span class="sig-name descname"><span class="pre">model_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigDict</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'from_attributes':</span> <span class="pre">True,</span> <span class="pre">'read_from_attributes':</span> <span class="pre">True,</span> <span class="pre">'read_with_orm_mode':</span> <span class="pre">True,</span> <span class="pre">'registry':</span> <span class="pre">PydanticUndefined,</span> <span class="pre">'table':</span> <span class="pre">True}</span></em><a class="headerlink" href="#litepolis_database_default.Vote.Vote.model_config" title="Link to this definition"></a></dt>
<dd><p>Configuration for the model, should be a dictionary conforming to [<cite>ConfigDict</cite>][pydantic.config.ConfigDict].</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.Vote.modified">
<span class="sig-name descname"><span class="pre">modified</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">datetime</span></em><a class="headerlink" href="#litepolis_database_default.Vote.Vote.modified" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.Vote.user">
<span class="sig-name descname"><span class="pre">user</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapped</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Users.User" title="litepolis_database_default.Users.User"><span class="pre">User</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#litepolis_database_default.Vote.Vote.user" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.Vote.user_id">
<span class="sig-name descname"><span class="pre">user_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#litepolis_database_default.Vote.Vote.user_id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.Vote.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#litepolis_database_default.Vote.Vote.value" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.VoteManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">litepolis_database_default.Vote.</span></span><span class="sig-name descname"><span class="pre">VoteManager</span></span><a class="headerlink" href="#litepolis_database_default.Vote.VoteManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.VoteManager.count_votes_for_comment">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">count_votes_for_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#litepolis_database_default.Vote.VoteManager.count_votes_for_comment" title="Link to this definition"></a></dt>
<dd><p>Counts votes for a comment.</p>
<dl>
<dt>Args:</dt><dd><p>comment_id (int): The ID of the comment.</p>
</dd>
<dt>Returns:</dt><dd><p>int: The number of votes for the comment. Returns 0 if no votes are found for the comment.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">count</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">count_votes_for_comment</span><span class="p">(</span><span class="n">comment_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.VoteManager.create_vote">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_vote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Vote.Vote" title="litepolis_database_default.Vote.Vote"><span class="pre">Vote</span></a></span></span><a class="headerlink" href="#litepolis_database_default.Vote.VoteManager.create_vote" title="Link to this definition"></a></dt>
<dd><p>Creates a new Vote record.</p>
<dl>
<dt>Note:</dt><dd><p>This operation may raise exceptions (e.g., <cite>IntegrityError</cite>) if:
- A vote already exists for the given <cite>user_id</cite> and <cite>comment_id</cite> (due to unique constraint).
- The <cite>user_id</cite> or <cite>comment_id</cite> do not reference existing records in the <cite>users</cite> or <cite>comments</cite> tables (due to foreign key constraints).</p>
</dd>
<dt>Args:</dt><dd><dl class="simple">
<dt>data (Dict[str, Any]): A dictionary containing the data for the new Vote.</dt><dd><p>Must include ‘value’, ‘user_id’, and ‘comment_id’.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>Vote: The newly created Vote instance.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">vote</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">create_vote</span><span class="p">({</span>
    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;comment_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.VoteManager.delete_vote">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete_vote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vote_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#litepolis_database_default.Vote.VoteManager.delete_vote" title="Link to this definition"></a></dt>
<dd><p>Deletes a Vote record by ID.</p>
<dl>
<dt>Args:</dt><dd><p>vote_id (int): The ID of the Vote to delete.</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>bool: True if the Vote was successfully deleted, False otherwise.</dt><dd><p>Returns False if the vote with the given ID does not exist.</p>
</dd>
</dl>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">success</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">delete_vote</span><span class="p">(</span><span class="n">vote_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.VoteManager.get_vote_by_user_comment">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_vote_by_user_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Vote.Vote" title="litepolis_database_default.Vote.Vote"><span class="pre">Vote</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Vote.VoteManager.get_vote_by_user_comment" title="Link to this definition"></a></dt>
<dd><p>Reads a Vote record by user and comment IDs.</p>
<dl>
<dt>Args:</dt><dd><p>user_id (int): The ID of the user.
comment_id (int): The ID of the comment.</p>
</dd>
<dt>Returns:</dt><dd><p>Optional[Vote]: The Vote instance if found, otherwise None.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">vote</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">get_vote_by_user_comment</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">comment_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.VoteManager.get_vote_value_distribution_for_comment">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_vote_value_distribution_for_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Vote.VoteManager.get_vote_value_distribution_for_comment" title="Link to this definition"></a></dt>
<dd><p>Gets vote value distribution for a comment.</p>
<dl>
<dt>Args:</dt><dd><p>comment_id (int): The ID of the comment.</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>Dict[int, int]: A dictionary where the keys are vote values and the values are the counts.</dt><dd><p>Returns an empty dictionary if no votes are found for the comment.</p>
</dd>
</dl>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">distribution</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">get_vote_value_distribution_for_comment</span><span class="p">(</span><span class="n">comment_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.VoteManager.list_votes_by_comment_id">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_votes_by_comment_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comment_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'created'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'asc'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Vote.Vote" title="litepolis_database_default.Vote.Vote"><span class="pre">Vote</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Vote.VoteManager.list_votes_by_comment_id" title="Link to this definition"></a></dt>
<dd><p>Lists Vote records for a comment with pagination and sorting.</p>
<dl>
<dt>Args:</dt><dd><p>comment_id (int): The ID of the comment.
page (int): The page number to retrieve (default: 1).
page_size (int): The number of votes per page (default: 10).
order_by (str): The field to order the votes by (default: “created”).</p>
<blockquote>
<div><p>Must be a valid attribute name of the Vote model.</p>
</div></blockquote>
<p>order_direction (str): The direction to order the votes (“asc” or “desc”, default: “asc”).</p>
</dd>
<dt>Returns:</dt><dd><p>List[Vote]: A list of Vote instances. Returns an empty list if no votes are found for the comment or page.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">votes</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_votes_by_comment_id</span><span class="p">(</span><span class="n">comment_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order_by</span><span class="o">=</span><span class="s2">&quot;created&quot;</span><span class="p">,</span> <span class="n">order_direction</span><span class="o">=</span><span class="s2">&quot;asc&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.VoteManager.list_votes_by_user_id">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_votes_by_user_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Vote.Vote" title="litepolis_database_default.Vote.Vote"><span class="pre">Vote</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Vote.VoteManager.list_votes_by_user_id" title="Link to this definition"></a></dt>
<dd><p>List votes by user id with pagination.</p>
<dl>
<dt>Args:</dt><dd><p>user_id (int): The ID of the user.
page (int): The page number to retrieve (default: 1).
page_size (int): The number of votes per page (default: 10).</p>
</dd>
<dt>Returns:</dt><dd><p>List[Vote]: A list of Vote instances. Returns an empty list if no votes are found for the user or page.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">votes</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_votes_by_user_id</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.VoteManager.list_votes_created_in_date_range">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">list_votes_created_in_date_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#litepolis_database_default.Vote.Vote" title="litepolis_database_default.Vote.Vote"><span class="pre">Vote</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#litepolis_database_default.Vote.VoteManager.list_votes_created_in_date_range" title="Link to this definition"></a></dt>
<dd><p>List votes created in date range.</p>
<dl>
<dt>Args:</dt><dd><p>start_date (datetime): The start date of the range (inclusive).
end_date (datetime): The end date of the range (inclusive).</p>
</dd>
<dt>Returns:</dt><dd><p>List[Vote]: A list of Vote instances. Returns an empty list if no votes are found in the range.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span>
<span class="n">votes</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">list_votes_created_in_date_range</span><span class="p">(</span><span class="n">start_date</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.VoteManager.read_vote">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_vote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vote_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Vote.Vote" title="litepolis_database_default.Vote.Vote"><span class="pre">Vote</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Vote.VoteManager.read_vote" title="Link to this definition"></a></dt>
<dd><p>Reads a Vote record by ID.</p>
<dl>
<dt>Args:</dt><dd><p>vote_id (int): The ID of the Vote to read.</p>
</dd>
<dt>Returns:</dt><dd><p>Optional[Vote]: The Vote instance if found, otherwise None.</p>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">vote</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">read_vote</span><span class="p">(</span><span class="n">vote_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="litepolis_database_default.Vote.VoteManager.update_vote">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">update_vote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vote_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#litepolis_database_default.Vote.Vote" title="litepolis_database_default.Vote.Vote"><span class="pre">Vote</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.Vote.VoteManager.update_vote" title="Link to this definition"></a></dt>
<dd><p>Updates a Vote record by ID.</p>
<dl>
<dt>Args:</dt><dd><p>vote_id (int): The ID of the Vote to update.
data (Dict[str, Any]): A dictionary containing the data to update.</p>
<blockquote>
<div><p>Keys should match Vote model attributes.</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>Optional[Vote]: The updated Vote instance if found, otherwise None.</dt><dd><p>Returns None if the vote with the given ID does not exist.</p>
</dd>
</dl>
</dd>
<dt>Example:</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">litepolis_database_default</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatabaseActor</span>

<span class="n">updated_vote</span> <span class="o">=</span> <span class="n">DatabaseActor</span><span class="o">.</span><span class="n">update_vote</span><span class="p">(</span><span class="n">vote_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">})</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-litepolis_database_default.utils">
<span id="utils-module"></span><h2>utils module<a class="headerlink" href="#module-litepolis_database_default.utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="litepolis_database_default.utils.connect_db">
<span class="sig-prename descclassname"><span class="pre">litepolis_database_default.utils.</span></span><span class="sig-name descname"><span class="pre">connect_db</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#litepolis_database_default.utils.connect_db" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="litepolis_database_default.utils.get_session">
<span class="sig-prename descclassname"><span class="pre">litepolis_database_default.utils.</span></span><span class="sig-name descname"><span class="pre">get_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#litepolis_database_default.utils.get_session" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="litepolis_database_default.utils.is_starrocks_engine">
<span class="sig-prename descclassname"><span class="pre">litepolis_database_default.utils.</span></span><span class="sig-name descname"><span class="pre">is_starrocks_engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine=Engine(sqlite:///database.db)</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#litepolis_database_default.utils.is_starrocks_engine" title="Link to this definition"></a></dt>
<dd><p>Determine if the engine is connected to StarRocks</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="litepolis_database_default.utils.wait_for_alter_completion">
<span class="sig-prename descclassname"><span class="pre">litepolis_database_default.utils.</span></span><span class="sig-name descname"><span class="pre">wait_for_alter_completion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#litepolis_database_default.utils.wait_for_alter_completion" title="Link to this definition"></a></dt>
<dd><p>Wait for the latest ongoing schema change for a specific table to complete
using ‘ORDER BY CreateTime DESC LIMIT 1’.</p>
</dd></dl>

</section>
<section id="module-litepolis_database_default.utils_StarRocks">
<span id="utils-starrocks-module"></span><h2>utils_StarRocks module<a class="headerlink" href="#module-litepolis_database_default.utils_StarRocks" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="litepolis_database_default.utils_StarRocks.create_db_and_tables">
<span class="sig-prename descclassname"><span class="pre">litepolis_database_default.utils_StarRocks.</span></span><span class="sig-name descname"><span class="pre">create_db_and_tables</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#litepolis_database_default.utils_StarRocks.create_db_and_tables" title="Link to this definition"></a></dt>
<dd><p>Creates all tables, using standard or custom DDL based on dialect.
Relies on models being imported beforehand.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="litepolis_database_default.utils_StarRocks.generate_custom_ddl_for_table">
<span class="sig-prename descclassname"><span class="pre">litepolis_database_default.utils_StarRocks.</span></span><span class="sig-name descname"><span class="pre">generate_custom_ddl_for_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dialect</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#litepolis_database_default.utils_StarRocks.generate_custom_ddl_for_table" title="Link to this definition"></a></dt>
<dd><p>Generates the specific DDL for one table using hints and the provided dialect.
Handles column order and key placement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="litepolis_database_default.utils_StarRocks.get_hints_for_table">
<span class="sig-prename descclassname"><span class="pre">litepolis_database_default.utils_StarRocks.</span></span><span class="sig-name descname"><span class="pre">get_hints_for_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#litepolis_database_default.utils_StarRocks.get_hints_for_table" title="Link to this definition"></a></dt>
<dd><p>Retrieves hints from the registry based on table name.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="litepolis_database_default.utils_StarRocks.populate_registry">
<span class="sig-prename descclassname"><span class="pre">litepolis_database_default.utils_StarRocks.</span></span><span class="sig-name descname"><span class="pre">populate_registry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MetaData</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#litepolis_database_default.utils_StarRocks.populate_registry" title="Link to this definition"></a></dt>
<dd><p>Populates the _MODEL_REGISTRY using table names from metadata
after all decorated models are imported and defined.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="litepolis_database_default.utils_StarRocks.register_table">
<span class="sig-prename descclassname"><span class="pre">litepolis_database_default.utils_StarRocks.</span></span><span class="sig-name descname"><span class="pre">register_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distributed_by</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#litepolis_database_default.utils_StarRocks.register_table" title="Link to this definition"></a></dt>
<dd><p>Decorator to register a SQLModel class and its special DDL hints
for custom DDL generation.</p>
</dd></dl>

</section>
<section id="module-litepolis_database_default">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-litepolis_database_default" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="LitePolis database default" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, NewJerseyStyle.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>